{% extends 'base.html' %}
{% from 'macros/_formhelpers.html' import render_field %}
{% block scripts %}
	{{ pagedown.include_pagedown() }}
{% endblock %}

<!-- :::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->

{% block content %}
<section class="columns">
	<aside class="one-fourth column">
		{% include 'components/_nav_publications.html' %}
	</aside>
	<div class="three-fourths column">
		<div class="Box my-3">
			<div class="Box-header">
				<small>Форма добавления постов</small>
			</div>
			<div class="Box-body">
				<form action="{{ url_for('post.addPost_request') }}" method="POST">
					{{ data.form.csrf_token }}
					{{ render_field(data.form.title, class="form-control") }}
					<!-- {{ render_field(data.form.text, rows=10, cols=60, only_input=True, class="form-control") }} -->
					{{ render_field(data.form.text, rows=10, cols=60, class="form-control") }}
					<!-- {{ render_field(data.form.tags, class="form-control") }} -->

					{% if data.form.tags.errors %}
						<dl class="form-group errored">
							<dt>{{ data.form.tags.label }}</dt>
							<p class="note">
								Введите теги через запятую, регистр не имеет значения, так как будет преобразован в нижний.
							</p>
							<dd>{{ data.form.tags(class="form-control") }}</dd>
							{% for error in data.form.tags.errors %}
								<dd class="error">{{ error }}</dd>
							{% endfor %}
						</dl>
					{% else %}
						<dl class="form-group">
							<dt>{{ data.form.tags.label }}</dt>
							<p class="note">
								Введите теги через запятую, регистр не имеет значения, так как будет преобразован в нижний.
							</p>
							<dd>{{ data.form.tags(class="form-control") }}</dd>
						</dl>
					{% endif %}
					<br>
					<button class="btn btn-primary" type="submit">Добавить пост</button>
					<a href="javascript:history.go(-1)" class="btn btn-sm" role="button">Отмена</a>
				</form>
			</div>
		</div>
	</div>
</section>
{% endblock %}
